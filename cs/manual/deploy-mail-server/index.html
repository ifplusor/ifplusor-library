
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://library.ifplusor.win/cs/manual/deploy-mail-server/">
      
      
        <link rel="prev" href="../create-self-signed-certificate/">
      
      
        <link rel="next" href="../../../homelabs/networking/complete-guide/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>使用Postfix+Dovecot+MySQL搭建邮件服务器 - ifplusor's library</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#使用postfixdovecotmysql搭建邮件服务器" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="ifplusor&#39;s library" class="md-header__button md-logo" aria-label="ifplusor's library" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ifplusor's library
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              使用Postfix+Dovecot+MySQL搭建邮件服务器
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ifplusor/ifplusor-library" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ifplusor-library
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../welcome/" class="md-tabs__link">
          
  
  Welcome

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../rocketmq/rocketmq-example/" class="md-tabs__link">
          
  
  RocketMQ

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../c%2B%2B/cpp-go-to-modernization/" class="md-tabs__link">
          
  
  CS

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../homelabs/networking/complete-guide/" class="md-tabs__link">
          
  
  Home Labs

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../english/pronunciation/100%20most%20common%20words%20in%20American%20English/" class="md-tabs__link">
          
  
  English

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ifplusor&#39;s library" class="md-nav__button md-logo" aria-label="ifplusor's library" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ifplusor's library
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ifplusor/ifplusor-library" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ifplusor-library
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Welcome
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../welcome/read-list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    书单
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RocketMQ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            RocketMQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rocketmq/rocketmq-example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RocketMQ Example
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    CS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/cpp-go-to-modernization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++：走向现代化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/practice-of-polymorphism-in-cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多态实践：继承、覆盖与虚函数
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pep-0333-zh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PEP 333 - Python Web Server Gateway Interface v1.0 中文版
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Java
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_1" id="__nav_3_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spring
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            Spring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/spring/spring-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring Security 笔记
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../create-self-signed-certificate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create self-signed certificate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    使用Postfix+Dovecot+MySQL搭建邮件服务器
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    使用Postfix+Dovecot+MySQL搭建邮件服务器
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#开始之前" class="md-nav__link">
    <span class="md-ellipsis">
      开始之前
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#工作原理" class="md-nav__link">
    <span class="md-ellipsis">
      工作原理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="工作原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#服务器接收邮件的过程" class="md-nav__link">
    <span class="md-ellipsis">
      服务器接收邮件的过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#用户查收邮件的过程" class="md-nav__link">
    <span class="md-ellipsis">
      用户查收邮件的过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#用户发送邮件的过程" class="md-nav__link">
    <span class="md-ellipsis">
      用户发送邮件的过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dns配置" class="md-nav__link">
    <span class="md-ellipsis">
      DNS配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssl证书" class="md-nav__link">
    <span class="md-ellipsis">
      SSL证书
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#修改hostname" class="md-nav__link">
    <span class="md-ellipsis">
      修改hostname
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql安装及配置" class="md-nav__link">
    <span class="md-ellipsis">
      MySQL安装及配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MySQL安装及配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mysql安装" class="md-nav__link">
    <span class="md-ellipsis">
      MySQL安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#新建数据库及用户" class="md-nav__link">
    <span class="md-ellipsis">
      新建数据库及用户
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#新建表" class="md-nav__link">
    <span class="md-ellipsis">
      新建表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#插入数据" class="md-nav__link">
    <span class="md-ellipsis">
      插入数据
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#测试数据" class="md-nav__link">
    <span class="md-ellipsis">
      测试数据
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postfix安装及配置" class="md-nav__link">
    <span class="md-ellipsis">
      Postfix安装及配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Postfix安装及配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postfix的安装" class="md-nav__link">
    <span class="md-ellipsis">
      Postfix的安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postfix的配置" class="md-nav__link">
    <span class="md-ellipsis">
      Postfix的配置
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dovecot安装及配置" class="md-nav__link">
    <span class="md-ellipsis">
      Dovecot安装及配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dovecot安装及配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dovecot的安装" class="md-nav__link">
    <span class="md-ellipsis">
      Dovecot的安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dovecot的配置" class="md-nav__link">
    <span class="md-ellipsis">
      Dovecot的配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dovecot的配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotdovecotconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/dovecot.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-mailconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-mail.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-authconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-auth.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfdauth-sqlconfext文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/auth-sql.conf.ext文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotdovecot-sqlconfext文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/dovecot-sql.conf.ext文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-masterconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-master.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-sslconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-ssl.conf文件
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#测试邮件服务器是否正常" class="md-nav__link">
    <span class="md-ellipsis">
      测试邮件服务器是否正常
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Home Labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Home Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Networking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Networking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../homelabs/networking/complete-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Complete Guide to HomeLab Networking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    English
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            English
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pronunciation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Pronunciation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/pronunciation/100%20most%20common%20words%20in%20American%20English/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    100 most common words in American English
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    EF
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            EF
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    L1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            L1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1_1" id="__nav_5_2_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    U1.问候及介绍
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            U1.问候及介绍
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L1/U1.%E9%97%AE%E5%80%99%E5%8F%8A%E4%BB%8B%E7%BB%8D/S1.%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L1.U1.S1. 自我介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L1/U1.%E9%97%AE%E5%80%99%E5%8F%8A%E4%BB%8B%E7%BB%8D/S2.%E6%8A%8A%E6%82%A8%E7%9A%84%E5%90%8D%E5%AD%97%E5%91%8A%E8%AF%89%E7%BB%99%E6%9F%90%E4%BA%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L1.U1.S2. 把您的名字告诉给某人
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L1/U1.%E9%97%AE%E5%80%99%E5%8F%8A%E4%BB%8B%E7%BB%8D/S3.%E4%BA%A4%E6%8D%A2%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L1.U1.S3. 交换电话号码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L1/U1.%E9%97%AE%E5%80%99%E5%8F%8A%E4%BB%8B%E7%BB%8D/S4.%E9%97%AE%E5%80%99/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L1.U1.S4. 问候
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1_2" id="__nav_5_2_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    U2.办公室和学校
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            U2.办公室和学校
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L1/U2.%E5%8A%9E%E5%85%AC%E5%AE%A4%E5%92%8C%E5%AD%A6%E6%A0%A1/S1.%E8%B0%88%E8%AE%BA%E6%82%A8%E7%9A%84%E8%AF%BE%E5%A0%82/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L1.U2.S1. 谈论您的课堂
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    L4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            L4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2_1" id="__nav_5_2_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    U1.娱乐
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            U1.娱乐
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L4/U1.%E5%A8%B1%E4%B9%90/S1.%E6%8F%8F%E8%BF%B0%E4%BC%91%E9%97%B2%E5%A8%B1%E4%B9%90%E7%9A%84%E9%80%89%E6%8B%A9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L4.U1.S1. 描述休闲娱乐的选择
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/ef/L4/U1.%E5%A8%B1%E4%B9%90/S2.%E8%B0%88%E8%AE%BA%E5%8D%B3%E5%B0%86%E5%8F%91%E7%94%9F%E7%9A%84%E6%B4%BB%E5%8A%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L4.U1.S2. 谈论即将发生的活动
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#开始之前" class="md-nav__link">
    <span class="md-ellipsis">
      开始之前
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#工作原理" class="md-nav__link">
    <span class="md-ellipsis">
      工作原理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="工作原理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#服务器接收邮件的过程" class="md-nav__link">
    <span class="md-ellipsis">
      服务器接收邮件的过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#用户查收邮件的过程" class="md-nav__link">
    <span class="md-ellipsis">
      用户查收邮件的过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#用户发送邮件的过程" class="md-nav__link">
    <span class="md-ellipsis">
      用户发送邮件的过程
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dns配置" class="md-nav__link">
    <span class="md-ellipsis">
      DNS配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssl证书" class="md-nav__link">
    <span class="md-ellipsis">
      SSL证书
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#修改hostname" class="md-nav__link">
    <span class="md-ellipsis">
      修改hostname
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql安装及配置" class="md-nav__link">
    <span class="md-ellipsis">
      MySQL安装及配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MySQL安装及配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mysql安装" class="md-nav__link">
    <span class="md-ellipsis">
      MySQL安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#新建数据库及用户" class="md-nav__link">
    <span class="md-ellipsis">
      新建数据库及用户
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#新建表" class="md-nav__link">
    <span class="md-ellipsis">
      新建表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#插入数据" class="md-nav__link">
    <span class="md-ellipsis">
      插入数据
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#测试数据" class="md-nav__link">
    <span class="md-ellipsis">
      测试数据
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postfix安装及配置" class="md-nav__link">
    <span class="md-ellipsis">
      Postfix安装及配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Postfix安装及配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postfix的安装" class="md-nav__link">
    <span class="md-ellipsis">
      Postfix的安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postfix的配置" class="md-nav__link">
    <span class="md-ellipsis">
      Postfix的配置
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dovecot安装及配置" class="md-nav__link">
    <span class="md-ellipsis">
      Dovecot安装及配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dovecot安装及配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dovecot的安装" class="md-nav__link">
    <span class="md-ellipsis">
      Dovecot的安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dovecot的配置" class="md-nav__link">
    <span class="md-ellipsis">
      Dovecot的配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dovecot的配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotdovecotconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/dovecot.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-mailconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-mail.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-authconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-auth.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfdauth-sqlconfext文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/auth-sql.conf.ext文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotdovecot-sqlconfext文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/dovecot-sql.conf.ext文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-masterconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-master.conf文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#修改etcdovecotconfd10-sslconf文件" class="md-nav__link">
    <span class="md-ellipsis">
      修改/etc/dovecot/conf.d/10-ssl.conf文件
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#测试邮件服务器是否正常" class="md-nav__link">
    <span class="md-ellipsis">
      测试邮件服务器是否正常
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="使用postfixdovecotmysql搭建邮件服务器">使用Postfix+Dovecot+MySQL搭建邮件服务器<a class="headerlink" href="#使用postfixdovecotmysql搭建邮件服务器" title="Permanent link">#</a></h1>
<blockquote>
<p>转载自 <a href="http://my.oschina.net/baratsemet/blog/413923">http://my.oschina.net/baratsemet/blog/413923</a>（链接已失效）<br />
补链：<a href="https://www.open-open.com/lib/view/open1431592348122.html">https://www.open-open.com/lib/view/open1431592348122.html</a></p>
</blockquote>
<p>网上有很多使用Postfix搭建邮件服务器的文章，但目前貌似没有看到较为完整的一篇。本例将尝试在Ubuntu系统中使用Postfix+Dovecot+MySQL搭建邮件服务器。</p>
<p>说到邮件服务器，网上有许多不同解决方案。Window操作系统下常见的邮件服务器有hMailServer、<a href="http://www.mailenable.com">MailEnable</a>、<a href="https://www.evomailserver.com">EVOMailServer</a>、<a href="http://james.apache.org">Apache James(纯Java跨平台)</a>等。</p>
<p>而在Linux/Unix系统中常用的邮件服务器也有不少选择，最经典也是最常见的莫过于Postfix。这篇文章将会讲述如何在Ubuntu系统之下，通过<a href="http://www.postfix.org">Postfix</a>、<a href="https://www.dovecot.org">Dovecot</a>、<a href="https://www.mysql.com">MySQL</a>整合实现普通意义上「邮件服务器」的大部分功能。</p>
<h2 id="开始之前">开始之前<a class="headerlink" href="#开始之前" title="Permanent link">#</a></h2>
<p>配置邮件服务器并不是一项简单的工作，其过程不仅需要一定的技术能力，同时也需要大家具有一定的耐心，同时也需要大家非常细心。为了能够「看懂」并「最终实践」这篇文章，大家还需要了解或掌握以下知识：</p>
<ul>
<li><strong>Postfix</strong>：是一个标准的MTA「Mail Transfer Agent」服务器，它负责通过SMTP协议管理发送到本机的邮件以及由本机发向外界的邮件。在本例中，Postfix会把邮件的本地投递工作「接受到邮件之后将邮件存档到本地磁盘」交给Dovecot的LMTP服务「Local Mail Transfer Protocol service」处理。当然，当大家想通过服务器向外界发送邮件时，Postfix还将负责验证权限以确保服务器不被滥用。「很多邮件服务器根本没有对SMTP做用户验证，这将导致任何匿名用户都可以通过服务器向外界发送邮件，从而使得服务器变成垃圾中转站」</li>
<li><strong>Dovecot</strong>：是一个非常优秀的IMAP/POP服务器用以接收外界发送到本机的邮件。通常，Dovecot的工作内容包括：验证用户身份以确保邮件不会被泄露。在本例中，Dovecot将负责所有的「身份验证」工作，我们会配置Dovecot查询本地的MySQL数据库以确认用户身份</li>
<li><strong>MySQL</strong>：不必多说，它将存储所有的用户信息，其中包括：需要监听的域名信息、用户邮箱地址、登录密码、邮箱别名「alias」等</li>
<li><strong>Ubuntu</strong>：本例中的OS将选择Ubuntu14.10作为标准，其他Linux发行版的相关操作不在描述</li>
</ul>
<h2 id="工作原理">工作原理<a class="headerlink" href="#工作原理" title="Permanent link">#</a></h2>
<h3 id="服务器接收邮件的过程">服务器接收邮件的过程<a class="headerlink" href="#服务器接收邮件的过程" title="Permanent link">#</a></h3>
<p>在开始讲述本例的内容之前，我们先来看看Postfix+Dovecot+MySQL是如何相互协作以实现邮件服务器的各项功能。我们假设张三通过oschina.net的邮箱zhangsan@oschina.net发送一份邮件给李四<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#108;&#105;&#115;&#105;&#64;&#109;&#121;&#100;&#111;&#109;&#97;&#105;&#110;&#46;&#99;&#111;&#109;">&#108;&#105;&#115;&#105;&#64;&#109;&#121;&#100;&#111;&#109;&#97;&#105;&#110;&#46;&#99;&#111;&#109;</a>，则服务器接收邮件的过程大致如下图所示：</p>
<p><img alt="服务器接收邮件的过程" src="server-receive-mail.png" /></p>
<ol>
<li>zhangsan@oschina.net发送邮件到<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#108;&#105;&#115;&#105;&#64;&#109;&#121;&#100;&#111;&#109;&#97;&#105;&#110;&#46;&#99;&#111;&#109;">&#108;&#105;&#115;&#105;&#64;&#109;&#121;&#100;&#111;&#109;&#97;&#105;&#110;&#46;&#99;&#111;&#109;</a></li>
<li><code>oschina.net</code>服务器会通过DNS查询<code>mydomain.com</code>的MX记录并找到Postfix所在的服务器</li>
<li>邮件被发送给Postfix</li>
<li>Postfix转向MySQL求助，以查询<code>mydomain.com</code>是不是需要处理的域名</li>
<li>MySQL返回确认信息给Postfix</li>
<li>Postfix将接受到的邮件投递给Dovecot的LMTP服务以便做处理</li>
<li>Dovecot将邮件内容保存到lisi@mydomain.com用户对应的磁盘路径</li>
</ol>
<h3 id="用户查收邮件的过程">用户查收邮件的过程<a class="headerlink" href="#用户查收邮件的过程" title="Permanent link">#</a></h3>
<p>上述例子中我们看到了服务器接收邮件的过程，接下来我们看看，当大家通过用户名密码登录邮箱查看邮件时，会发生什么事情：</p>
<p><img alt="用户查收邮件的过程" src="user-read-mail.png" /></p>
<ol>
<li>邮件客户端 to Dovecot：尊敬的Dovecot大人，您好！我阔以建立一个IMAP加密连接吗？</li>
<li>Dovecot to 邮件客户端：当然阔以。这是我的SSL证书，请您告诉我帐号和密码！</li>
<li>邮件客户端 to Dovecot：好滴！这是我的用户名和密码，千万不要告诉别人哦！</li>
<li>Dovecot to MySQL：Hi 美女！请问下，这个用户名和密码是正确的嘛？</li>
<li>MySQL to Dovecot：好的，请稍后！呃……这个用户名和密码是正确的哦！</li>
<li>Dovecot打开存放在本地磁盘<code>/var/mail/mydomain.com/llisi</code>的mailbox</li>
<li>Dovecot获取到最新的邮件及其他相关信息</li>
<li>Dovecot将邮件及其相关的其他信息通过IMAP协议发送给客户端</li>
</ol>
<h3 id="用户发送邮件的过程">用户发送邮件的过程<a class="headerlink" href="#用户发送邮件的过程" title="Permanent link">#</a></h3>
<p>查收了最新的邮件之后，李四lisi@mydomain.com发现张三给他发来了邮件。现在，李四回复一封邮件给张三，会发生什么事情：</p>
<p><img alt="用户发送邮件的过程" src="user-send-mail.png" /></p>
<ol>
<li>邮件客户端 to Postfix：尊敬的Postfix大人，您好！我阔以建立一个安全的SMTP连接嘛？</li>
<li>Postfix to 邮件客户端：说人话！可以就是可以，干嘛要说「阔以」啊！你丫贱啊，找抽啊！想建立SMTP连接可以，不过要加密。这是我的SSL证书，告诉我你的帐号和密码，你个贱人！</li>
<li>邮件客户端 to Postfix：对不起，大人，我错鸟！这是我的帐号和密码，不要告诉别人哦！</li>
<li>Postfix to Dovecot：Hi 帅哥，帮我查一下这个帐号和密码！</li>
<li>Dovecot to MySQL：Hi 美女，这个帐号和密码是正确的呢？！还是正确的呢？！还是……</li>
<li>MySQL to Dovecot：好啦，你乖啦！我查过啦，这个帐号密码是正确的啦！表卖萌哦，Dovecot君！</li>
<li>Dovecot to Postfix：大锅，则个帐号密码斯正缺滴！</li>
<li>Postfix to 邮件客户端：贱人，过来！你给的帐号密码是正确的，允许你发送邮件！</li>
<li>邮件客户端将编写好的邮件通过SMTP协议发送给Postfix</li>
<li>Postfix将收到的邮件转发给对方</li>
</ol>
<p>以上，大家已经看到邮件收、发的整个过程。接下来看看如何才能成功配置邮件服务器。</p>
<h2 id="dns配置">DNS配置<a class="headerlink" href="#dns配置" title="Permanent link">#</a></h2>
<p>首先，你需要有一个域名。本例中假定我们的域名为<code>mydomain.com</code>，以此为基础去做后续的所有工作。</p>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>在DNS相关配置没有成功之前，请勿尝试后续的操作。即使你配置好了Postfix，只要DNS相关配置没有成功，邮件服务器一样不能正常工作。</p>
</div>
<p>其次，登录域名管理系统「强烈推荐使用<a href="https://www.dnspod.cn">DNSPod</a>做域名管理」，新增几条MX记录指向你的邮件服务器。</p>
<p>第三，关于TTL设置。在测试邮件服务器的过程中，大家大可把TTL时间设置的短一点，这样可以让DNS服务器在很短的时间之内就起作用。当测试阶段过后，请即使将TTL时间设置成较大的值。什么？你问为什么要这样？自己去Google一下看看吧！TTL设置的太短会带来什么安全隐患。</p>
<p>设置完以后，DNS的MX记录及TTL时间大致如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mydomain.com         MX     10      mydomain.com
<span class="linenos" data-linenos="2 "></span>mydomain.com         MX     10      12.34.56.78
<span class="linenos" data-linenos="3 "></span>mail.mydomain.com    MX     10      12.34.56.78
</code></pre></div>
<h2 id="ssl证书">SSL证书<a class="headerlink" href="#ssl证书" title="Permanent link">#</a></h2>
<p>关于SSL认证的问题，大家可以根据自己的情况做决定。有人偏向于购买第三方权威的SSL认证，也有人使用OpenSSL自己制作签名（参考：<a href="../create-self-signed-certificate/">Create self-signed certificate</a>）。当然，上述两种方法本质上是没有什么区别的，唯一的区别在于：如果是自己制作的SSL证书，大部分的邮件客户端都会弹出提示框询问是否信任等。</p>
<h2 id="修改hostname">修改hostname<a class="headerlink" href="#修改hostname" title="Permanent link">#</a></h2>
<p>哈，终于进入了正题。现在，请大家打开终端「window系统用户可以选择使用putty等ssh工具连接服务器」并连接自己的服务器。</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>ssh<span class="w"> </span>username@12.34.56.78
</code></pre></div>
<p>连接成功以后，请第一时间执行下述命令切换到root用户：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>sudo<span class="w"> </span>-s
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>为什么要切换到root用户？纯属个人爱好，因为我很懒，懒得每次执行命令时在命令的前面带上sudo这样的参数，因此直接切换到root用户好了。</p>
</div>
<p>接下来，在命令行中输入如下命令查看hostname：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>hostname
</code></pre></div>
<p>接着，在命令行输入如下命令查看FQDN「fully-qualified domain name」：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>hostname<span class="w"> </span>-f
</code></pre></div>
<p>将上述两个名称记录下来，安装postfix时你将会使用到。</p>
<p>当然，上述的机器名是可以随时修改的，如果你想要修改，可以直接通过vi编辑器打开/etc/hostname文件，并将自己想要的机器名写入其中并保存即可</p>
<h2 id="mysql安装及配置">MySQL安装及配置<a class="headerlink" href="#mysql安装及配置" title="Permanent link">#</a></h2>
<p>本例中我们使用MySQL数据库保存Postfix需要服务的虚拟域名、用户帐号及密码、邮件别名三个重要的信息。</p>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>其实Postfix和Dovecot是完全可以不使用数据库的，二者都可以通过各种配置文件完成「零数据库」的邮件服务器。但是，既然可以使用数据库这么方便，为什么不用呢？将这些需要配置的信息存储在数据库中「如：用户帐号及密码等」，对今后的维护来说是非常方便的事情。不是么？！</p>
</div>
<h3 id="mysql安装">MySQL安装<a class="headerlink" href="#mysql安装" title="Permanent link">#</a></h3>
<p>在Ubuntu种安装软件，是再简单不过的事情了。安装MySQL请在命令行中执行如下命令：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>apt-get<span class="w"> </span>install<span class="w"> </span>mysql-server
</code></pre></div>
<p>安装过程中会需要你输入两次MySQL的root口令，请牢记该口令</p>
<p><img alt="设置MySQL密码" src="set-mysql-password.png" /></p>
<h3 id="新建数据库及用户">新建数据库及用户<a class="headerlink" href="#新建数据库及用户" title="Permanent link">#</a></h3>
<p>接下来，我们需要新建一个MySQL用户及一个数据库：</p>
<ul>
<li>使用root口令登录MySQL</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p
</code></pre></div>
<ul>
<li>输入root口令</li>
</ul>
<ul>
<li>新建一个数据库，名称叫做<code>mailserver</code>：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">mailserver</span><span class="w"> </span><span class="nb">character</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">utf8</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>输入如下命令以新建一个用户<code>mailserver</code>，并指定密码为<code>mailserver123</code>：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">create</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="n">mailserver</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="s1">&#39;mailserver123&#39;</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>将数据库<code>mailserver</code>的所有权限赋给用户<code>mailserver</code>：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">grant</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">mailserver</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">mailserver</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="s1">&#39;mailserver123&#39;</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>退出root用户：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="n">exit</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>使用<code>mailserver</code>用户登录：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="n">mysql</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">mailserver</span><span class="w"> </span><span class="o">-</span><span class="n">p</span>
</code></pre></div>
<ul>
<li>输入<code>mailserver</code>帐号的口令</li>
</ul>
<ul>
<li>将默认数据库切换为<code>mailserver</code>数据库：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="n">use</span><span class="w"> </span><span class="n">mailserver</span><span class="p">;</span>
</code></pre></div>
<h3 id="新建表">新建表<a class="headerlink" href="#新建表" title="Permanent link">#</a></h3>
<ul>
<li>输入如下SQL语句以新建<code>virtual_domains</code>表，该表是本地服务器用以接收邮件的域名：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">virtual_domains</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
<span class="linenos" data-linenos="2 "></span><span class="w">  </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span>
<span class="linenos" data-linenos="3 "></span><span class="w">  </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos="4 "></span><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span>
<span class="linenos" data-linenos="5 "></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>输入如下SQL语句以新建<code>virtual_users表</code>，该表邮件服务器的终端用户表，记录用户的邮件地址及密码：</li>
</ul>
<blockquote>
<p>千万不要保存明文密码</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">virtual_users</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
<span class="linenos" data-linenos=" 2 "></span><span class="w">  </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">  </span><span class="o">`</span><span class="n">domain_id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">  </span><span class="o">`</span><span class="n">password</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">106</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">  </span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">  </span><span class="o">`</span><span class="n">enable</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">,</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">),</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">  </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="p">),</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">domain_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">virtual_domains</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="linenos" data-linenos="10 "></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>输入如下SQL语句以新建<code>virtual_aliases</code>表，该表是邮件服务器别名表：</li>
</ul>
<blockquote>
<p>邮件服务器中的别名alias的概念大家可以Google一番</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">virtual_aliases</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
<span class="linenos" data-linenos="2 "></span><span class="w">  </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span>
<span class="linenos" data-linenos="3 "></span><span class="w">  </span><span class="o">`</span><span class="n">domain_id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos="4 "></span><span class="w">  </span><span class="o">`</span><span class="k">source</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos="5 "></span><span class="w">  </span><span class="o">`</span><span class="n">destination</span><span class="o">`</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="linenos" data-linenos="6 "></span><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">),</span>
<span class="linenos" data-linenos="7 "></span><span class="w">  </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">domain_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">virtual_domains</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="linenos" data-linenos="8 "></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span>
</code></pre></div>
<h3 id="插入数据">插入数据<a class="headerlink" href="#插入数据" title="Permanent link">#</a></h3>
<p>为了便于查看结果，接下来给上述三张表种插入一些测试数据：</p>
<ul>
<li>给<code>virtual_domains</code>表插入测试数据，大致如下：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">virtual_domains</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;mail.mydomain.com&#39;</span><span class="p">);</span>
<span class="linenos" data-linenos="2 "></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">virtual_domains</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;mydomain.com&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>上述表种id字段是自增列，可以不赋值。但无论如何，接下来的两张表种我们将需要上述表种的逐渐列id的值。比如：我将要添加<code>mydomain.com</code>域名下的邮箱帐号，而<code>mydomain.com</code>在<code>virtual_domains</code>表种的id值为2。</p>
</div>
<ul>
<li>给<code>virtual_users</code>表添加用户数据：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">virtual_users</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">domain_id</span><span class="p">,</span><span class="n">password</span><span class="p">,</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">ENCRYPT</span><span class="p">(</span><span class="s1">&#39;123456zhangsan&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;$6$&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="n">SHA</span><span class="p">(</span><span class="n">RAND</span><span class="p">()),</span><span class="w"> </span><span class="o">-</span><span class="mi">16</span><span class="p">))),</span><span class="s1">&#39;zhangsan@mydomain.com&#39;</span><span class="p">);</span>
<span class="linenos" data-linenos="2 "></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">virtual_users</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">domain_id</span><span class="p">,</span><span class="n">password</span><span class="p">,</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">ENCRYPT</span><span class="p">(</span><span class="s1">&#39;123456lisi&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;$6$&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="n">SHA</span><span class="p">(</span><span class="n">RAND</span><span class="p">()),</span><span class="w"> </span><span class="o">-</span><span class="mi">16</span><span class="p">))),</span><span class="s1">&#39;lisi@mydomain.com&#39;</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>给<code>virtual_aliases</code>表添加别名数据：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">virtual_aliases</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">domain_id</span><span class="p">,</span><span class="k">source</span><span class="p">,</span><span class="n">destination</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;all@mydomain.com&#39;</span><span class="p">,</span><span class="s1">&#39;zhangsan@mydomain.com&#39;</span><span class="p">);</span>
<span class="linenos" data-linenos="2 "></span><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">virtual_aliases</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">domain_id</span><span class="p">,</span><span class="k">source</span><span class="p">,</span><span class="n">destination</span><span class="p">)</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;all@mydomain.com&#39;</span><span class="p">,</span><span class="s1">&#39;lisi@mydomain.com&#39;</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>通过上述别名表的数据，当有人给all@mydomain.com发送邮件时，系统将自动将邮件转发给zhangsan@mydomain.com和<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#108;&#105;&#115;&#105;&#64;&#109;&#121;&#100;&#111;&#109;&#97;&#105;&#110;&#46;&#99;&#111;&#109;">&#108;&#105;&#115;&#105;&#64;&#109;&#121;&#100;&#111;&#109;&#97;&#105;&#110;&#46;&#99;&#111;&#109;</a>。这种场景，在公司内部「发送通知」等情况下适用</p>
</div>
<h3 id="测试数据">测试数据<a class="headerlink" href="#测试数据" title="Permanent link">#</a></h3>
<p>写几个SQL查询语句查看下结果吧</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">virtual_domains</span><span class="p">;</span>
<span class="linenos" data-linenos="2 "></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">virtual_users</span><span class="p">;</span>
<span class="linenos" data-linenos="3 "></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">virtual_aliases</span><span class="p">;</span>
</code></pre></div>
<h2 id="postfix安装及配置">Postfix安装及配置<a class="headerlink" href="#postfix安装及配置" title="Permanent link">#</a></h2>
<p>Postfix是邮件发送的核心服务器，所有向内、向外投递的邮件都需要经过Postfix通过SMTP协议完成。接下来的内容，大家需要修改Postfix相关的一些参数，它们是：</p>
<ul>
<li>告诉Postfix如何连接MySQL数据库，并让Postfix通过数据库种的表确定收发邮件的域名、用户帐号及密码、邮件别名等</li>
<li>告诉Postfix将收到的邮件转发给Dovecot的LMTP服务以完成本地投递</li>
<li>告诉Postfix所有的连接都需要STARTTLS加密，如果有必要「废话啊，当然必须这样」</li>
<li>开放本地端口25、465、587之一或全部</li>
</ul>
<h3 id="postfix的安装">Postfix的安装<a class="headerlink" href="#postfix的安装" title="Permanent link">#</a></h3>
<p>在命令行种执行以下命令以安装Postfix：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>apt-get<span class="w"> </span>install<span class="w"> </span>postfix<span class="w"> </span>postfix-mysql
</code></pre></div>
<p>安装过程中需要选择Postfix的类型，请选择Internet Site：</p>
<p><img alt="选择Internet Site" src="select-internet-site.png" /></p>
<p>Postfix安装过程中还会需要输入<strong>System mail name</strong>，这里请输入你要收发邮件的域名地址「随便写也可以，反正后面需要修改配置文件」</p>
<h3 id="postfix的配置">Postfix的配置<a class="headerlink" href="#postfix的配置" title="Permanent link">#</a></h3>
<ul>
<li>先备份Postfix的配置文件<code>/etc/postfix/main.cf</code>！</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>cp<span class="w"> </span>/etc/postfix/main.cf<span class="w"> </span>/etc/postfix/main.cf.bak
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>任何时候，对任何配置进行修改之前，先做好备份总是非常必要的。同时，这也是一个非常良好的操作习惯。</p>
</div>
<ul>
<li>使用vi编辑器打开<code>/etc/postfix/main.cf</code>文件</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>vi<span class="w"> </span>/etc/postfix/main.cf
</code></pre></div>
<ul>
<li>打开之后，按下 <strong>i</strong> 键进入编辑模式。</li>
</ul>
<ul>
<li>鉴于我们没有打算使用Postfix做用户的权限验证「上述几个图种已经展示清楚」，我们将要把Postfix默认的用户验证参数屏蔽，因此请在如下几行前边加入#符号以注释：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span># TLS parameters
<span class="linenos" data-linenos="2 "></span>#smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
<span class="linenos" data-linenos="3 "></span>#smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
<span class="linenos" data-linenos="4 "></span>#smtpd_use_tls=yes
<span class="linenos" data-linenos="5 "></span>#smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache
<span class="linenos" data-linenos="6 "></span>#smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache
</code></pre></div>
<ul>
<li>复制如下内容，并将其插入到上述注释代码之后：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>smtpd_tls_cert_file=/etc/dovecot/private/dovecot.pem
<span class="linenos" data-linenos="2 "></span>smtpd_tls_key_file=/etc/dovecot/private/dovecot.key
<span class="linenos" data-linenos="3 "></span>smtpd_tls_security_level = encrypt
<span class="linenos" data-linenos="4 "></span>
<span class="linenos" data-linenos="5 "></span># Enabling SMTP for authenticated users, and handing off authentication to Dovecot
<span class="linenos" data-linenos="6 "></span>smtpd_sasl_type = dovecot
<span class="linenos" data-linenos="7 "></span>smtpd_sasl_path = private/auth
<span class="linenos" data-linenos="8 "></span>smtpd_sasl_auth_enable = yes
<span class="linenos" data-linenos="9 "></span>smtpd_recipient_restrictions = permit_sasl_authenticated, permit_mynetworks, reject_unauth_destination
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>上述几个参数的含义，请参照<a href="http://www.postfix.org/documentation.html">Postfix配置文档</a></p>
</div>
<ul>
<li>按照如下方式修改<code>mydestination</code>一行的值：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mydestination = localhost
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>将<code>mydestination</code>的值修改为<code>localhost</code>，以便Postfix能够通过MySQL表中相关数据决定需要接受/发送邮件的域名，这样更具有通用性</p>
</div>
<ul>
<li>在文档中加入以下内容，以便告诉Postfix不要使用LDA「Local Delivery Agent」转而使用Dovecot的LMTP完成本地邮件投递：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span># Handing off local delivery to Dovecot&#39;s LMTP, and telling it where to store mail
<span class="linenos" data-linenos="2 "></span>virtual_transport = lmtp:unix:private/dovecot-lmtp
</code></pre></div>
<ul>
<li>在文档中加入以下内容，以便告诉Postfix去MySQL数据库种寻找域名、用户帐号密码及邮件别名等信息：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span># Virtual domains, users, and aliases
<span class="linenos" data-linenos="2 "></span>virtual_mailbox_domains = mysql:/etc/postfix/mysql-virtual-mailbox-domains.cf
<span class="linenos" data-linenos="3 "></span>virtual_mailbox_maps = mysql:/etc/postfix/mysql-virtual-mailbox-maps.cf
<span class="linenos" data-linenos="4 "></span>virtual_alias_maps = mysql:/etc/postfix/mysql-virtual-alias-maps.cf
</code></pre></div>
<ul>
<li>最终，修改完成以后的<code>/etc/postfix/main.cf</code>文件大致应该如下：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span># See /usr/share/postfix/main.cf.dist for a commented, more complete version
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span># Debian specific:  Specifying a file name will cause the first
<span class="linenos" data-linenos=" 4 "></span># line of that file to be used as the name.  The Debian default
<span class="linenos" data-linenos=" 5 "></span># is /etc/mailname.
<span class="linenos" data-linenos=" 6 "></span># myorigin = /etc/mailname
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span>smtpd_banner = $myhostname ESMTP $mail_name (Ubuntu)
<span class="linenos" data-linenos=" 9 "></span>biff = no
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span># appending .domain is the MUA&#39;s job.
<span class="linenos" data-linenos="12 "></span>append_dot_mydomain = no
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span># Uncomment the next line to generate &quot;delayed mail&quot; warnings  
<span class="linenos" data-linenos="15 "></span># delay_warning_time = 4h
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span>readme_directory = no
<span class="linenos" data-linenos="18 "></span>
<span class="linenos" data-linenos="19 "></span># TLS parameters
<span class="linenos" data-linenos="20 "></span>#smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
<span class="linenos" data-linenos="21 "></span>#smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
<span class="linenos" data-linenos="22 "></span>#smtpd_use_tls=yes
<span class="linenos" data-linenos="23 "></span>#smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache
<span class="linenos" data-linenos="24 "></span>#smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache
<span class="linenos" data-linenos="25 "></span>smtpd_tls_cert_file=/etc/dovecot/private/dovecot.pem
<span class="linenos" data-linenos="26 "></span>smtpd_tls_key_file=/etc/dovecot/private/dovecot.key
<span class="linenos" data-linenos="27 "></span>smtpd_tls_security_level = encrypt
<span class="linenos" data-linenos="28 "></span>
<span class="linenos" data-linenos="29 "></span># Enabling SMTP for authenticated users, and handing off authentication to Dovecot
<span class="linenos" data-linenos="30 "></span>smtpd_sasl_type = dovecot
<span class="linenos" data-linenos="31 "></span>smtpd_sasl_path = private/auth
<span class="linenos" data-linenos="32 "></span>smtpd_sasl_auth_enable = yes
<span class="linenos" data-linenos="33 "></span>smtpd_recipient_restrictions = permit_sasl_authenticated, permit_mynetworks, reject_unauth_destination
<span class="linenos" data-linenos="34 "></span>
<span class="linenos" data-linenos="35 "></span># See /usr/share/doc/postfix/TLS\_README.gz in the postfix-doc package for
<span class="linenos" data-linenos="36 "></span># information on enabling SSL in the smtp client.
<span class="linenos" data-linenos="37 "></span>
<span class="linenos" data-linenos="38 "></span>myhostname = host.mydomain.com
<span class="linenos" data-linenos="39 "></span>alias_maps = hash:/etc/aliases
<span class="linenos" data-linenos="40 "></span>alias_database = hash:/etc/aliases
<span class="linenos" data-linenos="41 "></span>myorigin = /etc/mailname
<span class="linenos" data-linenos="42 "></span># mydestination = example.com, hostname.mydomain.com, localhost.mydomain.com, localhost
<span class="linenos" data-linenos="43 "></span>mydestination = localhost
<span class="linenos" data-linenos="44 "></span>relayhost = 
<span class="linenos" data-linenos="45 "></span>mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128
<span class="linenos" data-linenos="46 "></span>mailbox_size_limit = 0
<span class="linenos" data-linenos="47 "></span>recipient_delimiter = +
<span class="linenos" data-linenos="48 "></span>inet_interfaces = all
<span class="linenos" data-linenos="49 "></span>
<span class="linenos" data-linenos="50 "></span># Handing off local delivery to Dovecot&#39;s LMTP, and telling it where to store mail
<span class="linenos" data-linenos="51 "></span>virtual_transport = lmtp:unix:private/dovecot-lmtp
<span class="linenos" data-linenos="52 "></span>
<span class="linenos" data-linenos="53 "></span># Virtual domains, users, and aliases
<span class="linenos" data-linenos="54 "></span>virtual_mailbox_domains = mysql:/etc/postfix/mysql-virtual-mailbox-domains.cf
<span class="linenos" data-linenos="55 "></span>virtual_mailbox_maps = mysql:/etc/postfix/mysql-virtual-mailbox-maps.cf
<span class="linenos" data-linenos="56 "></span>virtual_alias_maps = mysql:/etc/postfix/mysql-virtual-alias-maps.cf
</code></pre></div>
<ul>
<li>按下ESC键并输入如下内容以保存并退出</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">wq</span><span class="p">!</span>
</code></pre></div>
<ul>
<li>新建<code>/etc/postfix/mysql-virtual-mailbox-domains.cf</code>文件并输入如下内容：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>user = mailserver
<span class="linenos" data-linenos="2 "></span>password = mailserver123
<span class="linenos" data-linenos="3 "></span>hosts = 127.0.0.1
<span class="linenos" data-linenos="4 "></span>dbname = mailserver
<span class="linenos" data-linenos="5 "></span>query = SELECT 1 FROM virtual_domains WHERE name=&#39;%s&#39;
</code></pre></div>
<ul>
<li>重启Postfix服务</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>service<span class="w"> </span>postfix<span class="w"> </span>restart
</code></pre></div>
<ul>
<li>测试上述内容是否正确，如果上述内容配置正确，则如下命令执行后返回结果应该为1：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>postmap<span class="w"> </span>-q<span class="w"> </span>mydomain.com<span class="w"> </span>mysql:/etc/postfix/mysql-virtual-mailbox-domains.cf
</code></pre></div>
<ul>
<li>新建<code>/etc/postfix/mysql-virtual-mailbox-maps.cf</code>文件并输入如下内容：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>user = mailserver
<span class="linenos" data-linenos="2 "></span>password = mailserver123
<span class="linenos" data-linenos="3 "></span>hosts = 127.0.0.1
<span class="linenos" data-linenos="4 "></span>dbname = mailserver
<span class="linenos" data-linenos="5 "></span>query = SELECT 1 FROM virtual_users WHERE enable=1 AND email=&#39;%s&#39;
</code></pre></div>
<ul>
<li>重启Postfix服务</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>service<span class="w"> </span>postfix<span class="w"> </span>restart
</code></pre></div>
<ul>
<li>测试上述配置是否正确，如果上述内容配置正确，则如下命令执行后返回结果应该为1：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>postmap<span class="w"> </span>-q<span class="w"> </span>lisi@mydomain.com<span class="w"> </span>mysql:/etc/postfix/mysql-virtual-mailbox-maps.cf
</code></pre></div>
<ul>
<li>新建<code>/etc/postfix/mysql-virtual-alias-maps.cf</code>文件并输入如下内容：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>user = mailserver
<span class="linenos" data-linenos="2 "></span>password = mailserver123
<span class="linenos" data-linenos="3 "></span>hosts = 127.0.0.1
<span class="linenos" data-linenos="4 "></span>dbname = mailserver
<span class="linenos" data-linenos="5 "></span>query = SELECT destination FROM virtual_aliases WHERE source=&#39;%s&#39;
</code></pre></div>
<ul>
<li>重启Postfix服务</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>service<span class="w"> </span>postfix<span class="w"> </span>restart
</code></pre></div>
<ul>
<li>测试上述配置是否正确，如果上述配置正确，则如下命令执行后返回结果应该是之前添加的别名帐号：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>postmap<span class="w"> </span>-q<span class="w"> </span>all@mydomain.com<span class="w"> </span>mysql:/etc/postfix/mysql-virtual-alias-maps.cf
</code></pre></div>
<ul>
<li>使用vi编辑器打开<code>/etc/postfix/master.cf</code>文件「请注意修改之前先备份」，找到<code>submission</code>和<code>smtps</code>所在的两行，并将其注释去掉。这样做的目的是允许Postfix通过587和465端口发送邮件。</li>
</ul>
<ul>
<li>重启Postfix服务</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>service<span class="w"> </span>postfix<span class="w"> </span>restart
</code></pre></div>
<p>搞定，Postfix服务器应该配置完成了。相信到这里的时候，已经吓走了90%以上的朋友，剩下的10%朋友们，你们是好样的。</p>
<h2 id="dovecot安装及配置">Dovecot安装及配置<a class="headerlink" href="#dovecot安装及配置" title="Permanent link">#</a></h2>
<p>Dovecot在本例中充当IMAP、POP服务器的角色，同时它也将负责用户登录时用户身份的验证「Dovecot会将真正的验证工作交给MySQL处理」。因为使用SSL，Dovecot将会使用993「IMAP协议」及995「POP协议」与外界交流，若服务器有iptable之类的玩意儿，请开放相关端口。</p>
<p>这部分的内容配置起来相对简单，但是需要配置的文件繁多。大体上，我们需要配置如下的信息：</p>
<ul>
<li>开启Dovecot的IMAP、POP3、LMTP协议</li>
<li>告知Dovecot本地邮件的投档路径</li>
<li>连接Dovecot和MySQL数据库以验证用户身份</li>
<li>配置SSL加密相关信息</li>
</ul>
<h3 id="dovecot的安装">Dovecot的安装<a class="headerlink" href="#dovecot的安装" title="Permanent link">#</a></h3>
<p>通过如下命令安装Dovecot最新版：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>apt-get<span class="w"> </span>install<span class="w"> </span>dovecot-core<span class="w"> </span>dovecot-imapd<span class="w"> </span>dovecot-pop3d<span class="w"> </span>dovecot-lmtpd<span class="w"> </span>dovecot-mysql
</code></pre></div>
<h3 id="dovecot的配置">Dovecot的配置<a class="headerlink" href="#dovecot的配置" title="Permanent link">#</a></h3>
<p>需要修改的配置文件有：</p>
<ul>
<li>/etc/dovecot/dovecot.conf : Dovecot的主配置文件</li>
<li>/etc/dovecot/conf.d/10-mail.conf : Dovecot将要操作的磁盘路径相关配置信息</li>
<li>/etc/dovecot/conf.d/10-auth.conf : 用户验证相关配置信息</li>
<li>/etc/dovecot/conf.d/auth-sql.conf.ext : SQL-Type验证相关配置信息</li>
<li>/etc/dovecot/dovecot-sql.conf.ext : Dovecot与数据库连接相关配置信息</li>
<li>/etc/dovecot/conf.d/10-master.conf : Dovecot本地socket相关配置信息</li>
<li>/etc/dovecot/conf.d/10-ssl.conf : 关于SSL的相关配置信息</li>
</ul>
<div class="admonition note">
<p class="admonition-title">请注意</p>
<p>在修改上述文件之前，请一定先做好备份以方便恢复</p>
</div>
<h4 id="修改etcdovecotdovecotconf文件">修改<code>/etc/dovecot/dovecot.conf</code>文件<a class="headerlink" href="#修改etcdovecotdovecotconf文件" title="Permanent link">#</a></h4>
<p>使用vi编辑器打开<code>/etc/dovecot/dovecot.conf</code>文件并在文件中加入如下内容：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>!include conf.d/*.conf
<span class="linenos" data-linenos="2 "></span># Enable installed protocols
<span class="linenos" data-linenos="3 "></span>!include_try /usr/share/dovecot/protocols.d/*.protocol
<span class="linenos" data-linenos="4 "></span>protocols = imap pop3 lmtp
</code></pre></div>
<p>如果以上内容已经存在，只需要把该行的#号去掉即可</p>
<p>上述内容大致的意思是：告诉Dovecot启用所有.conf文件；并开启Dovecot的imap、pop3、lmtp等相关协议使之正常工作</p>
<h4 id="修改etcdovecotconfd10-mailconf文件">修改<code>/etc/dovecot/conf.d/10-mail.conf</code>文件<a class="headerlink" href="#修改etcdovecotconfd10-mailconf文件" title="Permanent link">#</a></h4>
<p>打开文件并找到<code>mail_location</code>相关信息，将其指定到本地磁盘的某个路径，这个路径将来会存放收到的邮件，如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mail_location = maildir:/var/mail/vhosts/%d/%n
</code></pre></div>
<p>同时，找到文件中<code>mail_privileged_group</code>相关信息并将起修改为：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mail\_privileged\_group = mail
</code></pre></div>
<p>保存文件并退出</p>
<p>在命令行种输入如下内容以查看<code>/var/mail</code>路径的权限：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>ls<span class="w"> </span>-ld<span class="w"> </span>/var/mail
</code></pre></div>
<p>显示的内容大致应该是：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>drwxrwsr-x 2 root mail 4096 May  11 15:08 /var/mail
</code></pre></div>
<p>创建<code>/var/mail/vhosts/</code>文件夹给每个需要启用的域名：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/mail/vhosts/mydomain.com
</code></pre></div>
<p>输入如下命令以新建<code>vmail</code>用户组及用户并赋权限</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>groupadd<span class="w"> </span>-g<span class="w"> </span><span class="m">5000</span><span class="w"> </span>vmail<span class="w"> </span>useradd<span class="w"> </span>-g<span class="w"> </span>vmail<span class="w"> </span>-u<span class="w"> </span><span class="m">5000</span><span class="w"> </span>vmail<span class="w"> </span>-d<span class="w"> </span>/var/mail
</code></pre></div>
<p>接下来修改一下<code>/var/mail/</code>目录的权限，使<code>vmail</code>能够访问：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>chown<span class="w"> </span>-R<span class="w"> </span>vmail:vmail<span class="w"> </span>/var/mail
</code></pre></div>
<h4 id="修改etcdovecotconfd10-authconf文件">修改<code>/etc/dovecot/conf.d/10-auth.conf</code>文件<a class="headerlink" href="#修改etcdovecotconfd10-authconf文件" title="Permanent link">#</a></h4>
<p>找到文件中<code>disable_plaintext_auth</code>并取消注释</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>disable\_plaintext\_auth = yes
</code></pre></div>
<p>找到文件中<code>auth_mechanisms</code>并将其修改为如下值：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>auth_mechanisms = plain login
</code></pre></div>
<p>默认情况下，Dovecot是允许Ubuntu系统用户登录使用的，我们需要将其禁用。找到文件种如下内容并将其注释：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span># !include auth-system.conf.ext
</code></pre></div>
<p>开启Dovecot的MySQL支持，取消<code>!include auth-sql.conf.ext</code>的注释符号：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span># !include auth-system.conf.ext
<span class="linenos" data-linenos="2 "></span>!include auth-sql.conf.ext
<span class="linenos" data-linenos="3 "></span>#!include auth-ldap.conf.ext
<span class="linenos" data-linenos="4 "></span>#!include auth-passwdfile.conf.ext
<span class="linenos" data-linenos="5 "></span>#!include auth-checkpassword.conf.ext
<span class="linenos" data-linenos="6 "></span>#!include auth-vpopmail.conf.ext
<span class="linenos" data-linenos="7 "></span>#!include auth-static.conf.ext
</code></pre></div>
<h4 id="修改etcdovecotconfdauth-sqlconfext文件">修改<code>/etc/dovecot/conf.d/auth-sql.conf.ext</code>文件<a class="headerlink" href="#修改etcdovecotconfdauth-sqlconfext文件" title="Permanent link">#</a></h4>
<p>在文件中加入如下内容：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>passdb {
<span class="linenos" data-linenos="2 "></span>    driver = sql
<span class="linenos" data-linenos="3 "></span>    args = /etc/dovecot/dovecot-sql.conf.ext
<span class="linenos" data-linenos="4 "></span>}
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span>userdb {
<span class="linenos" data-linenos="7 "></span>    driver = static
<span class="linenos" data-linenos="8 "></span>    args = uid=vmail gid=vmail home=/var/mail/vhosts/%d/%n
<span class="linenos" data-linenos="9 "></span>}
</code></pre></div>
<h4 id="修改etcdovecotdovecot-sqlconfext文件">修改<code>/etc/dovecot/dovecot-sql.conf.ext</code>文件<a class="headerlink" href="#修改etcdovecotdovecot-sqlconfext文件" title="Permanent link">#</a></h4>
<p>取消文件中<code>driver</code>行的注释，并将其修改为如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>driver = mysql
</code></pre></div>
<p>取消文件中<code>connect</code>行的注释，并将其修改为如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>connect = host=127.0.0.1 dbname=mailserver user=mailserver password=mailserver123
</code></pre></div>
<p>取消文件中<code>default_pass_scheme</code>行的注释，并将其修改为如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>default_pass_scheme = SHA512-CRYPT
</code></pre></div>
<p>取消文件中<code>password_query</code>行的注释，并将起修改为如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>password_query = SELECT email as user, password FROM virtual_users WHERE enable=1 AND email=&#39;%u&#39;;
</code></pre></div>
<p>保存退出</p>
<p>在命令行种输入如下内容以修改目录权限：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>chown<span class="w"> </span>-R<span class="w"> </span>vmail:dovecot<span class="w"> </span>/etc/dovecot
<span class="linenos" data-linenos="2 "></span>chmod<span class="w"> </span>-R<span class="w"> </span>o-rwx<span class="w"> </span>/etc/dovecot
</code></pre></div>
<h4 id="修改etcdovecotconfd10-masterconf文件">修改<code>/etc/dovecot/conf.d/10-master.conf</code>文件<a class="headerlink" href="#修改etcdovecotconfd10-masterconf文件" title="Permanent link">#</a></h4>
<p>打开文件做如下修改「通过将端口设置为0，以禁用非SSL加密的IMAP和POP3协议」：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>service imap-login {
<span class="linenos" data-linenos=" 2 "></span>    inet_listener imap {
<span class="linenos" data-linenos=" 3 "></span>        port = 0
<span class="linenos" data-linenos=" 4 "></span>    }
<span class="linenos" data-linenos=" 5 "></span>    # ...
<span class="linenos" data-linenos=" 6 "></span>}
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span>service pop3-login {
<span class="linenos" data-linenos=" 9 "></span>    inet_listener pop3 {
<span class="linenos" data-linenos="10 "></span>        port = 0
<span class="linenos" data-linenos="11 "></span>    }
<span class="linenos" data-linenos="12 "></span>    # ...
<span class="linenos" data-linenos="13 "></span>}
</code></pre></div>
<p>找到文件中的<code>service lmtp</code>并将其修改如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>service lmtp {
<span class="linenos" data-linenos=" 2 "></span>    #unix_listener lmtp {
<span class="linenos" data-linenos=" 3 "></span>        #mode = 0600
<span class="linenos" data-linenos=" 4 "></span>    #}
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    unix_listener /var/spool/postfix/private/dovecot-lmtp {
<span class="linenos" data-linenos=" 7 "></span>        mode = 0600
<span class="linenos" data-linenos=" 8 "></span>        user = postfix
<span class="linenos" data-linenos=" 9 "></span>        group = postfix
<span class="linenos" data-linenos="10 "></span>    }
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span>    # Create inet listener only if you can&#39;t use the above UNIX socket
<span class="linenos" data-linenos="13 "></span>    # inet_listener lmtp {
<span class="linenos" data-linenos="14 "></span>    #     # Avoid making LMTP visible for the entire internet
<span class="linenos" data-linenos="15 "></span>    #     address =
<span class="linenos" data-linenos="16 "></span>    #     port =
<span class="linenos" data-linenos="17 "></span>    # }
<span class="linenos" data-linenos="18 "></span>}
</code></pre></div>
<p>找到文件中<code>service auth</code>并将其内容修改如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>service auth {
<span class="linenos" data-linenos=" 2 "></span>    # auth_socket_path points to this userdb socket by default. It&#39;s typically
<span class="linenos" data-linenos=" 3 "></span>    # used by dovecot-lda, doveadm, possibly imap process, etc. Its default
<span class="linenos" data-linenos=" 4 "></span>    # permissions make it readable only by root, but you may need to relax these
<span class="linenos" data-linenos=" 5 "></span>    # permissions. Users that have access to this socket are able to get a list
<span class="linenos" data-linenos=" 6 "></span>    # of all usernames and get results of everyone&#39;s userdb lookups.
<span class="linenos" data-linenos=" 7 "></span>    unix_listener auth-userdb {
<span class="linenos" data-linenos=" 8 "></span>        mode = 0600
<span class="linenos" data-linenos=" 9 "></span>        user = vmail
<span class="linenos" data-linenos="10 "></span>        # group =
<span class="linenos" data-linenos="11 "></span>    }
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span>    # Postfix smtp-auth
<span class="linenos" data-linenos="14 "></span>    unix_listener /var/spool/postfix/private/auth {
<span class="linenos" data-linenos="15 "></span>        mode = 0666
<span class="linenos" data-linenos="16 "></span>        user = postfix
<span class="linenos" data-linenos="17 "></span>        group = postfix
<span class="linenos" data-linenos="18 "></span>    }
<span class="linenos" data-linenos="19 "></span>
<span class="linenos" data-linenos="20 "></span>    # Auth process is run as this user.
<span class="linenos" data-linenos="21 "></span>    user = dovecot
<span class="linenos" data-linenos="22 "></span>}
</code></pre></div>
<p>找到文件中<code>service auth-worker</code>内容并修改如下：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>service auth-worker {
<span class="linenos" data-linenos="2 "></span>    # Auth worker process is run as root by default, so that it can access
<span class="linenos" data-linenos="3 "></span>    # /etc/shadow. If this isn&#39;t necessary, the user should be changed to
<span class="linenos" data-linenos="4 "></span>    # $default_internal_user.
<span class="linenos" data-linenos="5 "></span>    user = vmail
<span class="linenos" data-linenos="6 "></span>}
</code></pre></div>
<h4 id="修改etcdovecotconfd10-sslconf文件">修改<code>/etc/dovecot/conf.d/10-ssl.conf</code>文件<a class="headerlink" href="#修改etcdovecotconfd10-sslconf文件" title="Permanent link">#</a></h4>
<p>找到文件中<code>ssl_cert</code>并修改内容如下「请确保dovecot的pem文件已经存在，如果大家使用了自己的SSL文件，请将如下内容修改为相应的路径」：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>ssl_cert = 
</code></pre></div>
<p>强制用户使用SSL加密：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>ssl = required
</code></pre></div>
<p>重新启动Dovecot服务：</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>service<span class="w"> </span>dovecot<span class="w"> </span>restart
</code></pre></div>
<h2 id="测试邮件服务器是否正常">测试邮件服务器是否正常<a class="headerlink" href="#测试邮件服务器是否正常" title="Permanent link">#</a></h2>
<p>设置一个帐号，可以向MySQL对应的表中插入数据，接下来使用邮件客户端来测试一下。推荐使用Thunderbird邮件客户端或者Foxmail客户端等。请注意以下内容：</p>
<ul>
<li>邮箱的全称「包括后面的@mydomain.com」将作为用户名</li>
<li>邮箱密码是MySQL数据库种对应邮箱的密码</li>
<li>服务器相关接口是否全部开放？993、995、25等</li>
<li>邮件收发的所有协议，包括IMAP、POP3、SMTP全部都需要开启SSL加密</li>
</ul>
<p>配置好客户端之后即可连接获取、发送邮件。</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tabs", "navigation.top", "search.highlight"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>